(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9334],{72037:function(e,t,r){Promise.resolve().then(r.bind(r,43793))},43793:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return M}});var s=r(57437),n=r(2265),a=r(27648),i=r(74348),l=r(5978),o=r(79820),d=r(33804),c=r(12381),u=r(21943),f=r(54194),m=r(33217),x=r(45807),h=r(67350),p=r(13147),v=r(91230),g=r(2901),y=r(60936),b=r(61029),j=r(17168),N=r(46291),w=r(69140),S=r(93448),T=r(91687),_=r(23340);let D={laundry:"bg-yellow-400",airportTransfer:"bg-green-400",excursion:"bg-red-400",other:"bg-gray-400"},A=e=>{let t=(e.serviceType||e.type||"").toLowerCase();return t.includes("laundry")?"laundry":t.includes("transfer")?"airportTransfer":t.startsWith("excursion")?"excursion":"other"};function C(){let e=(0,i.CU)(),{user:t}=(0,i.aF)(),{toast:r}=(0,_.pm)(),C=!!e&&!!t,M=(0,i.sx)(()=>C?(0,l.IO)((0,l.hJ)(e,"serviceBookings"),(0,l.Xo)("createdAt","desc")):null,[C,e]),{data:E,isLoading:O,error:k}=(0,i.Kx)(M),[R,I]=n.useState(new Date),[U,Z]=n.useState(new Date),[z,F]=n.useState(20);n.useEffect(()=>{k&&r({title:"Error fetching bookings",description:k.message,variant:"destructive"})},[k,r]);let V=n.useMemo(()=>E?[...E].sort((e,t)=>{let r=e.createdAt?new Date(e.createdAt).getTime():0;return(t.createdAt?new Date(t.createdAt).getTime():0)-r}):[],[E]),{bookingsByDate:W,servicesByDate:H}=n.useMemo(()=>{let e={},t={};for(let a of V){var r,s,n;let i=(null===(r=a.details)||void 0===r?void 0:r.date)||(null===(s=a.details)||void 0===s?void 0:s.arrivalDate)||(null===(n=a.details)||void 0===n?void 0:n.departureDate);if(i)try{let r=(0,g.WU)((0,y.D)(i),"yyyy-MM-dd");e[r]||(e[r]=[]),t[r]||(t[r]=new Set),e[r].push(a),t[r].add(A(a))}catch(e){console.error("Could not parse date for service booking ".concat(a.id,":"),i,e)}}return{bookingsByDate:e,servicesByDate:t}},[V]),L=n.useMemo(()=>R?(W[(0,g.WU)(R,"yyyy-MM-dd")]||[]).sort((e,t)=>{var r,s,n,a;let i=(null===(r=e.details)||void 0===r?void 0:r.time)||(null===(s=e.details)||void 0===s?void 0:s.departureTime),l=(null===(n=t.details)||void 0===n?void 0:n.time)||(null===(a=t.details)||void 0===a?void 0:a.departureTime);if(i&&l)try{return(0,b.Qc)(i,"HH:mm",new Date).getTime()-(0,b.Qc)(l,"HH:mm",new Date).getTime()}catch(e){}return 0}):[],[R,W]),B=e=>{var t,r,s,n,a;let i=(null===(t=e.details)||void 0===t?void 0:t.date)||(null===(r=e.details)||void 0===r?void 0:r.departureDate)||(null===(s=e.details)||void 0===s?void 0:s.arrivalDate);if(!i)return"No date set";try{let t=(0,y.D)(i),r=(null===(n=e.details)||void 0===n?void 0:n.time)||(null===(a=e.details)||void 0===a?void 0:a.departureTime),s=(0,g.WU)(t,"MMM dd, yyyy"),l="";if(r)try{l=" at "+(0,g.WU)((0,b.Qc)(r,"HH:mm",new Date),"h:mm a")}catch(e){}return"".concat(s).concat(l)}catch(e){return"Invalid Date"}},P=e=>{let t=A(e);return"laundry"===t?(0,s.jsx)(u.Z,{className:"h-4 w-4 text-muted-foreground"}):"airportTransfer"===t?(0,s.jsx)(f.Z,{className:"h-4 w-4 text-muted-foreground"}):"excursion"===t?(0,s.jsx)(m.Z,{className:"h-4 w-4 text-muted-foreground"}):(0,s.jsx)(x.Z,{className:"h-4 w-4 text-muted-foreground"})},q=V.slice(0,z);return(0,s.jsxs)("div",{className:"p-4 sm:p-6 bg-shpc-sand min-h-full",children:[(0,s.jsx)("header",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-shpc-ink",children:"Guest Services"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Manage services like transfers, laundry, and excursions."})]})}),(0,s.jsxs)(j.mQ,{defaultValue:"list",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)(j.dr,{children:[(0,s.jsx)(j.SP,{value:"list",children:"List View"}),(0,s.jsx)(j.SP,{value:"calendar",children:"Calendar View"})]}),(0,s.jsxs)("div",{className:"flex gap-1.5 text-xs text-muted-foreground items-center",children:[(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)("div",{className:"h-2 w-2 rounded-full bg-yellow-400"}),"Laundry"]}),(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)("div",{className:"h-2 w-2 rounded-full bg-green-400"}),"Transfer"]}),(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)("div",{className:"h-2 w-2 rounded-full bg-red-400"}),"Excursion"]})]})]}),(0,s.jsx)(j.nU,{value:"list",className:"mt-6",children:(0,s.jsxs)(o.Zb,{className:"shadow-soft rounded-2xl",children:[(0,s.jsxs)(o.Ol,{children:[(0,s.jsx)(o.ll,{children:"All Service Bookings"}),(0,s.jsx)(o.SZ,{children:"This list shows all requested guest services, sorted by most recent."})]}),(0,s.jsx)(o.aY,{children:O?(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(w.O,{className:"h-12 w-full"}),(0,s.jsx)(w.O,{className:"h-12 w-full"}),(0,s.jsx)(w.O,{className:"h-12 w-full"})]}):(0,s.jsxs)(d.iA,{children:[(0,s.jsx)(d.xD,{children:(0,s.jsxs)(d.SC,{children:[(0,s.jsx)(d.ss,{children:"Guest"}),(0,s.jsx)(d.ss,{children:"Service"}),(0,s.jsx)(d.ss,{children:"Date / Time"}),(0,s.jsx)(d.ss,{className:"text-right",children:"Actions"})]})}),(0,s.jsx)(d.RM,{children:0===q.length?(0,s.jsx)(d.SC,{children:(0,s.jsx)(d.pj,{colSpan:4,className:"h-24 text-center",children:"No service bookings found yet."})}):q.map(e=>{var t;return(0,s.jsxs)(d.SC,{children:[(0,s.jsxs)(d.pj,{className:"font-medium flex items-center gap-2",children:[(0,s.jsx)(h.Z,{className:"h-4 w-4 text-muted-foreground"}),null===(t=e.customer)||void 0===t?void 0:t.name]}),(0,s.jsx)(d.pj,{children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[P(e),e.type]})}),(0,s.jsx)(d.pj,{children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(p.Z,{className:"h-4 w-4 text-muted-foreground"}),B(e)]})}),(0,s.jsx)(d.pj,{className:"text-right",children:(0,s.jsx)(c.z,{asChild:!0,variant:"outline",size:"sm",children:(0,s.jsxs)(a.default,{href:"/admin/guest-services/".concat(e.id),children:["View Details ",(0,s.jsx)(v.Z,{className:"ml-2 h-4 w-4"})]})})})]},e.id)})})]})}),V.length>z&&(0,s.jsx)(o.eW,{className:"py-4",children:(0,s.jsx)(c.z,{variant:"secondary",className:"w-full",onClick:()=>F(e=>e+20),children:"Load More Bookings"})})]})}),(0,s.jsx)(j.nU,{value:"calendar",className:"mt-6",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,s.jsx)(o.Zb,{className:"lg:col-span-2 shadow-soft rounded-2xl p-2",children:O?(0,s.jsx)(w.O,{className:"w-full h-96"}):(0,s.jsx)(N.f,{mode:"single",selected:R,onSelect:I,month:U,onMonthChange:Z,className:"w-full",components:{Day:function(e){let t=H[(0,g.WU)(e.date,"yyyy-MM-dd")];return(0,s.jsxs)("div",{className:"relative flex flex-col items-center justify-center h-full",children:[(0,s.jsx)(T.Jc,{...e}),t&&(0,s.jsx)("div",{className:"absolute bottom-1 flex gap-0.5",children:Array.from(t).map(e=>(0,s.jsx)("div",{className:(0,S.cn)("h-1.5 w-1.5 rounded-full",D[e])},e))})]})}}})}),(0,s.jsx)("div",{className:"lg:col-span-1",children:(0,s.jsxs)(o.Zb,{className:"shadow-soft rounded-2xl",children:[(0,s.jsxs)(o.Ol,{children:[(0,s.jsx)(o.ll,{children:R?(0,g.WU)(R,"MMMM dd, yyyy"):"No date selected"}),(0,s.jsx)(o.SZ,{children:"Services for this day."})]}),(0,s.jsx)(o.aY,{children:O?(0,s.jsx)(w.O,{className:"w-full h-40"}):L.length>0?(0,s.jsx)("ul",{className:"space-y-3",children:L.map(e=>{var t,r;return(0,s.jsx)("li",{children:(0,s.jsxs)(a.default,{href:"/admin/guest-services/".concat(e.id),className:"block p-3 rounded-lg hover:bg-muted/50",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 font-medium",children:[P(e),e.type]}),(0,s.jsx)(v.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground mt-1 pl-6 flex justify-between",children:[(0,s.jsx)("span",{children:e.customer.name}),((null===(t=e.details)||void 0===t?void 0:t.time)||"airportTransfer"===e.type&&(null===(r=e.details)||void 0===r?void 0:r.departureTime))&&(0,s.jsx)("span",{className:"font-medium text-foreground",children:(0,g.WU)((0,b.Qc)(e.details.time||e.details.departureTime,"HH:mm",new Date),"h:mm a")})]})]})},e.id)})}):(0,s.jsx)("div",{className:"text-center text-sm text-muted-foreground py-10",children:"No services scheduled for this day."})})]})})]})})]})]})}function M(){return(0,s.jsx)(C,{})}},12381:function(e,t,r){"use strict";r.d(t,{d:function(){return o},z:function(){return d}});var s=r(57437),n=r(2265),a=r(98482),i=r(90535),l=r(93448);let o=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef((e,t)=>{let{className:r,variant:n,size:i,asChild:d=!1,...c}=e,u=d?a.g7:"button";return(0,s.jsx)(u,{className:(0,l.cn)(o({variant:n,size:i,className:r})),ref:t,...c})});d.displayName="Button"},46291:function(e,t,r){"use strict";r.d(t,{f:function(){return d}});var s=r(57437);r(2265);var n=r(82521),a=r(76848),i=r(91687),l=r(93448),o=r(12381);function d(e){let{className:t,classNames:r,showOutsideDays:d=!0,...c}=e;return(0,s.jsx)(i._W,{showOutsideDays:d,className:(0,l.cn)("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,l.cn)((0,o.d)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,l.cn)((0,o.d)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...r},components:{IconLeft:e=>{let{className:t,...r}=e;return(0,s.jsx)(n.Z,{className:(0,l.cn)("h-4 w-4",t),...r})},IconRight:e=>{let{className:t,...r}=e;return(0,s.jsx)(a.Z,{className:(0,l.cn)("h-4 w-4",t),...r})}},...c})}d.displayName="Calendar"},79820:function(e,t,r){"use strict";r.d(t,{Ol:function(){return l},SZ:function(){return d},Zb:function(){return i},aY:function(){return c},eW:function(){return u},ll:function(){return o}});var s=r(57437),n=r(2265),a=r(93448);let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...n})});i.displayName="Card";let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",r),...n})});l.displayName="CardHeader";let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",r),...n})});o.displayName="CardTitle";let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",r),...n})});d.displayName="CardDescription";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",r),...n})});c.displayName="CardContent";let u=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",r),...n})});u.displayName="CardFooter"},69140:function(e,t,r){"use strict";r.d(t,{O:function(){return a}});var s=r(57437),n=r(93448);function a(e){let{className:t,...r}=e;return(0,s.jsx)("div",{className:(0,n.cn)("animate-pulse rounded-md bg-muted",t),...r})}},33804:function(e,t,r){"use strict";r.d(t,{RM:function(){return o},SC:function(){return d},iA:function(){return i},pj:function(){return u},ss:function(){return c},xD:function(){return l}});var s=r(57437),n=r(2265),a=r(93448);let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:t,className:(0,a.cn)("w-full caption-bottom text-sm",r),...n})})});i.displayName="Table";let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("thead",{ref:t,className:(0,a.cn)("[&_tr]:border-b",r),...n})});l.displayName="TableHeader";let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("tbody",{ref:t,className:(0,a.cn)("[&_tr:last-child]:border-0",r),...n})});o.displayName="TableBody",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("tfoot",{ref:t,className:(0,a.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...n})}).displayName="TableFooter";let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("tr",{ref:t,className:(0,a.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...n})});d.displayName="TableRow";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("th",{ref:t,className:(0,a.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...n})});c.displayName="TableHead";let u=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("td",{ref:t,className:(0,a.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...n})});u.displayName="TableCell",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("caption",{ref:t,className:(0,a.cn)("mt-4 text-sm text-muted-foreground",r),...n})}).displayName="TableCaption"},17168:function(e,t,r){"use strict";r.d(t,{SP:function(){return d},dr:function(){return o},mQ:function(){return l},nU:function(){return c}});var s=r(57437),n=r(2265),a=r(20271),i=r(93448);let l=a.fC,o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(a.aV,{ref:t,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...n})});o.displayName=a.aV.displayName;let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(a.xz,{ref:t,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r),...n})});d.displayName=a.xz.displayName;let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(a.VY,{ref:t,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...n})});c.displayName=a.VY.displayName},6827:function(e,t,r){"use strict";r.d(t,{A:function(){return n},a:function(){return a}});var s=r(63996);let n=()=>{let{user:e,isUserLoading:t,userError:r}=(0,s.f2)();return{user:e,isUserLoading:t,userError:r}},a=()=>{let{auth:e}=(0,s.f2)();return e}},71077:function(e,t,r){"use strict";r.d(t,{s:function(){return s}});let s=function(){let e={};return{on(t,r){var s;e[t]||(e[t]=[]),null===(s=e[t])||void 0===s||s.push(r)},off(t,r){var s;e[t]&&(e[t]=null===(s=e[t])||void 0===s?void 0:s.filter(e=>e!==r))},emit(t,r){var s;e[t]&&(null===(s=e[t])||void 0===s||s.forEach(e=>e(r)))}}}()},74348:function(e,t,r){"use strict";r.d(t,{b$:function(){return c},s5:function(){return d.s},mw:function(){return m},Kx:function(){return u},CU:function(){return l.CU},sx:function(){return l.sx},aF:function(){return f.A}});let s={projectId:"punta-cana-stays",appId:"1:95102335388:web:f8a7004b8a84ce2a22f059",storageBucket:"punta-cana-stays.appspot.com",apiKey:"AIzaSyAhOZfzaFBe0GsXa170eJO4ILJcS5AmV7Q",authDomain:"punta-cana-stays.firebaseapp.com",measurementId:"",messagingSenderId:"95102335388"};var n=r(738),a=r(43301),i=r(5978),l=r(63996),o=r(2265),d=r(71077);class c extends Error{constructor(e){let t=function(e){let t=null;try{let e=(0,a.v0)().currentUser;e&&(t=function(e){var t;if(!e)return null;let r={name:e.displayName,email:e.email,email_verified:e.emailVerified,phone_number:e.phoneNumber,sub:e.uid,firebase:{identities:e.providerData.reduce((e,t)=>(t.providerId&&(e[t.providerId]=[t.uid]),e),{}),sign_in_provider:(null===(t=e.providerData[0])||void 0===t?void 0:t.providerId)||"custom",tenant:e.tenantId}};return{uid:e.uid,token:r}}(e))}catch(e){}return{auth:t,method:e.operation,path:"/databases/(default)/documents/".concat(e.path),resource:e.requestResourceData?{data:e.requestResourceData}:void 0}}(e);super("Missing or insufficient permissions: The following request was denied by Firestore Security Rules:\n".concat(JSON.stringify(t,null,2))),this.name="FirebaseError",this.request=t}}function u(e){let[t,r]=(0,o.useState)(null),[s,n]=(0,o.useState)(!0),[a,u]=(0,o.useState)(null),{firestore:f}=(0,l.f2)();if((0,o.useEffect)(()=>{if(!e||!f){r(null),n(!1),u(null);return}n(!0),u(null);let t=(0,i.cf)(e,e=>{let t=[];for(let r of e.docs)t.push({...r.data(),id:r.id});r(t),u(null),n(!1)},t=>{let s=new c({path:(null==e?void 0:e.path)||"unknown_path",operation:"list"});d.s.emit("permission-error",s),u(s),r(null),n(!1)});return()=>t()},[e,f]),e&&!e.__memo)throw Error("useCollection target query was not properly memoized using useMemoFirebase");return{data:t,isLoading:s,error:a}}var f=r(6827);function m(){let e;e=(0,n.C6)().length?(0,n.Mq)():(0,n.ZF)(s);let t=(0,i.ad)(e),r=(0,a.v0)(e);return{firebaseApp:e,firestore:t,auth:r}}},63996:function(e,t,r){"use strict";r.d(t,{CU:function(){return d},Km:function(){return l},f2:function(){return o},sx:function(){return c}});var s=r(57437),n=r(2265),a=r(43301);let i=(0,n.createContext)(void 0),l=e=>{let{children:t,firebaseApp:r,firestore:l,auth:o}=e,[d,c]=(0,n.useState)({user:null,isUserLoading:!0,userError:null});(0,n.useEffect)(()=>{let e=(0,a.Aj)(o,e=>{c({user:e,isUserLoading:!1,userError:null})},e=>{console.error("FirebaseProvider: onAuthStateChanged error:",e),c({user:null,isUserLoading:!1,userError:e})});return()=>e()},[o]);let u=(0,n.useMemo)(()=>({firebaseApp:r,firestore:l,auth:o,user:d.user,isUserLoading:d.isUserLoading,userError:d.userError}),[r,l,o,d]);return(0,s.jsx)(i.Provider,{value:u,children:t})},o=()=>{let e=(0,n.useContext)(i);if(void 0===e)throw Error("useFirebase must be used within a FirebaseProvider.");return e},d=()=>{let{firestore:e}=o();return e};function c(e,t){let r=(0,n.useMemo)(e,t);return"object"!=typeof r||null===r||(r.__memo=!0),r}},23340:function(e,t,r){"use strict";r.d(t,{pm:function(){return f}});var s=r(2265);let n=0,a=new Map,i=e=>{if(a.has(e))return;let t=setTimeout(()=>{a.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);a.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?i(r):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],d={toasts:[]};function c(e){d=l(d,e),o.forEach(e=>{e(d)})}function u(e){let{...t}=e,r=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:r});return c({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||s()}}}),{id:r,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function f(){let[e,t]=s.useState(d);return s.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},93448:function(e,t,r){"use strict";r.d(t,{cn:function(){return a}});var s=r(61994),n=r(53335);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,s.W)(t))}}},function(e){e.O(0,[4728,4358,6137,2972,9242,9666,3301,2901,9221,4039,1029,2723,2971,2117,1744],function(){return e(e.s=72037)}),_N_E=e.O()}]);
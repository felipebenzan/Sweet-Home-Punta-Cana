(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3311],{62878:function(n,e,s){Promise.resolve().then(s.bind(s,37169))},99376:function(n,e,s){"use strict";var i=s(35475);s.o(i,"notFound")&&s.d(e,{notFound:function(){return i.notFound}}),s.o(i,"usePathname")&&s.d(e,{usePathname:function(){return i.usePathname}}),s.o(i,"useRouter")&&s.d(e,{useRouter:function(){return i.useRouter}}),s.o(i,"useSearchParams")&&s.d(e,{useSearchParams:function(){return i.useSearchParams}})},37169:function(n,e,s){"use strict";s.r(e),s.d(e,{default:function(){return d}});var i=s(57437),r=s(2265),t=s(99376);function a(){var n,e,s,a;let d=(0,t.useSearchParams)().get("bid"),[o,l]=(0,r.useState)(null),[c,u]=(0,r.useState)(null);return((0,r.useEffect)(()=>{d&&(async()=>{try{let n=await fetch("/api/booking/".concat(d));if(!n.ok)throw Error(await n.text());l(await n.json())}catch(n){u((null==n?void 0:n.message)||"Failed to load booking")}})()},[d]),d)?c?(0,i.jsx)("main",{style:{padding:24},children:(0,i.jsxs)("p",{children:["Error: ",c]})}):o?(0,i.jsxs)("main",{style:{padding:24,fontFamily:"sans-serif"},children:[(0,i.jsx)("h1",{children:"Booking Confirmed"}),(0,i.jsxs)("p",{children:["Confirmation Code: ",(0,i.jsx)("b",{children:o.confirmationCode})]}),(0,i.jsx)("hr",{style:{margin:"1rem 0"}}),(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"150px 1fr",gap:"0.5rem 1rem"},children:[(0,i.jsx)("b",{children:"Booking ID:"}),(0,i.jsx)("span",{children:o.id}),(0,i.jsx)("b",{children:"Status:"}),(0,i.jsx)("span",{children:o.status}),(0,i.jsx)("b",{children:"Guest:"}),(0,i.jsx)("span",{children:o.customer.name}),(0,i.jsx)("b",{children:"Email:"}),(0,i.jsx)("span",{children:o.customer.email}),(0,i.jsx)("b",{children:"Total Paid:"}),(0,i.jsxs)("span",{children:[o.totals.grandTotal," ",o.totals.currency]}),(0,i.jsx)("b",{children:"Item:"}),(0,i.jsxs)("span",{children:[null===(e=o.items)||void 0===e?void 0:null===(n=e[0])||void 0===n?void 0:n.name," (",null===(a=o.items)||void 0===a?void 0:null===(s=a[0])||void 0===s?void 0:s.qty,"x)"]}),(0,i.jsx)("b",{children:"Date:"}),(0,i.jsx)("span",{children:o.dates.start})]})]}):(0,i.jsx)("main",{style:{padding:24},children:(0,i.jsx)("p",{children:"Loadingâ€¦"})}):(0,i.jsx)("main",{style:{padding:24},children:(0,i.jsx)("p",{children:"Missing booking id."})})}function d(){return(0,i.jsx)(r.Suspense,{fallback:(0,i.jsx)("main",{style:{padding:24},children:(0,i.jsx)("p",{children:"Loading confirmation..."})}),children:(0,i.jsx)(a,{})})}}},function(n){n.O(0,[2971,2117,1744],function(){return n(n.s=62878)}),_N_E=n.O()}]);
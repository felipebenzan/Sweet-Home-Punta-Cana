(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2481],{75369:function(e,t,a){Promise.resolve().then(a.bind(a,66845))},25523:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RouterContext",{enumerable:!0,get:function(){return r}});let r=a(47043)._(a(2265)).default.createContext(null)},66845:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return k}});var r=a(57437),n=a(2265),s=a(99376),o=a(59121),i=a(2901),l=a(95490),c=a(69626),d=a(13147),u=a(53459),m=a(12381),p=a(79820),f=a(40279),h=a(75060),x=a(12749),v=a(46291),y=a(15291),g=a(23340),j=a(33145),b=a(74348),N=a(5978),w=a(72962),P=a(15169);function C(){let e=(0,s.useRouter)(),t=(0,b.CU)(),{user:a}=(0,b.aF)(),{toast:C}=(0,g.pm)(),[k,_]=(0,n.useState)(1),[E,F]=(0,n.useState)(!1),[R,D]=n.useState(null),[O,S]=(0,n.useState)(1),[A,M]=(0,n.useState)((0,o.E)(new Date,1)),[I,Z]=(0,n.useState)("08:00"),[z,V]=(0,n.useState)(""),[Y,B]=(0,n.useState)(""),[W,T]=(0,n.useState)(""),q=(0,n.useMemo)(()=>5*O,[O]),[U,J]=(0,n.useState)(null),[L,$]=(0,n.useState)(!1),K=()=>!!A&&!!I||(C({title:"Missing Information",description:"Please select a date and time.",variant:"destructive"}),!1),Q=()=>z.trim()&&W.trim()&&Y.trim()?(D(null),!0):(C({title:"Missing Information",description:"Please fill all required fields.",variant:"destructive"}),D({message:"Please fill all required fields."}),!1);async function G(){var e;if(Q()){if(!t){C({title:"Error",description:"Database connection not available.",variant:"destructive"});return}F(!0),J({type:"laundry",customer:{name:z,email:W},details:{qty:O,date:A?(0,i.WU)(A,"yyyy-MM-dd"):"",time:I,accommodation:Y},pricing:{totalUSD:q,currency:"USD"},status:"Pending Payment",createdAt:(0,N.Bt)(),updatedAt:(0,N.Bt)(),guestUid:null!==(e=null==a?void 0:a.uid)&&void 0!==e?e:null}),$(!0),F(!1)}}let X=async a=>{if(!t){C({title:"Error",description:"Database connection not available.",variant:"destructive"}),F(!1);return}if(!U){C({title:"Booking Error",description:"Payment successful, but booking details were lost. Please contact support.",variant:"destructive"}),F(!1);return}F(!0);try{let r={...U,paypalOrderId:a.orderId,paypalTransactionId:a.transactionId,status:"Confirmed",updatedAt:(0,N.Bt)()},n=await (0,N.ET)((0,N.hJ)(t,"serviceBookings"),r);console.log("Final laundry booking saved to Firestore:",n.id),C({title:"Laundry Request Confirmed!",description:"Your laundry pickup (ID: ".concat(n.id,") has been scheduled. Payment complete."),variant:"default"});try{console.log("Attempting to send confirmation email for booking ".concat(n.id)),await (0,P.o)(n.id),console.log("Successfully queued confirmation email for booking ".concat(n.id)),C({title:"Email Sent",description:"Your confirmation email is on its way.",variant:"default"})}catch(e){console.error("Failed to send confirmation email for booking ".concat(n.id,":"),e),C({title:"Email Failed",description:"Could not send confirmation email. Please contact support.",variant:"destructive"})}e.push("/laundry-service/confirmation?bid=".concat(n.id))}catch(e){console.error("Error saving final laundry booking to Firestore after PayPal success:",e),C({title:"Final Booking Save Failed",description:e.message||"Payment was successful, but there was an issue saving your booking. Please contact support.",variant:"destructive"})}finally{F(!1),$(!1),J(null)}};return(0,r.jsxs)("div",{className:"bg-white",children:[(0,r.jsxs)("section",{className:"relative h-[50vh] w-full flex items-center justify-center text-center text-white bg-black",children:[(0,r.jsx)(j.default,{src:"https://firebasestorage.googleapis.com/v0/b/punta-cana-stays.firebasestorage.app/o/laundry%20service%20guest%20services%20sweet%20home%20punta%20cana.png?alt=media&token=f82dc09e-4fe6-45f4-bb76-aaf099ec9de0",alt:"Clean folded towels",fill:!0,priority:!0,className:"object-cover opacity-40","data-ai-hint":"laundry service"}),(0,r.jsxs)("div",{className:"relative z-10 p-6",children:[(0,r.jsx)("h1",{className:"text-4xl md:text-6xl font-playfair font-bold",children:"Laundry On-Demand"}),(0,r.jsx)("p",{className:"mt-4 text-lg md:text-2xl font-light max-w-2xl mx-auto",children:"Fresh clothes, zero hassle. Let us handle the laundry."})]})]}),(0,r.jsxs)("div",{className:"max-w-xl mx-auto px-6 py-16 lg:py-24",children:[(0,r.jsxs)(p.Zb,{className:"shadow-soft rounded-2xl",children:[(0,r.jsx)(p.Ol,{children:(0,r.jsxs)(p.ll,{children:["Schedule Your Pickup - Step ",k," of 2"]})}),1===k&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(p.aY,{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(h._,{children:"How many loads of laundry?"}),(0,r.jsxs)("div",{className:"flex items-center gap-4 p-2 border rounded-lg",children:[(0,r.jsxs)("div",{className:"flex-grow",children:[(0,r.jsxs)("p",{className:"font-semibold text-sm",children:[O," ",O>1?"Loads":"Load"]}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Approx. 1 bag per load."})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(m.z,{type:"button",variant:"outline",size:"icon",className:"h-9 w-9",onClick:()=>S(e=>Math.max(1,e-1)),children:(0,r.jsx)(l.Z,{className:"h-4 w-4"})}),(0,r.jsx)(m.z,{type:"button",variant:"outline",size:"icon",className:"h-9 w-9",onClick:()=>S(e=>Math.min(5,e+1)),children:(0,r.jsx)(c.Z,{className:"h-4 w-4"})})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(h._,{htmlFor:"date",children:"Pickup Date"}),(0,r.jsxs)(x.J2,{children:[(0,r.jsx)(x.xo,{asChild:!0,children:(0,r.jsxs)(m.z,{variant:"outline",className:"w-full justify-start text-left font-normal h-12",children:[(0,r.jsx)(d.Z,{className:"mr-2 h-4 w-4"}),A?(0,i.WU)(A,"PPP"):(0,r.jsx)("span",{children:"Pick a date"})]})}),(0,r.jsx)(x.yk,{className:"w-auto p-0",children:(0,r.jsx)(v.f,{mode:"single",selected:A,onSelect:M,initialFocus:!0,disabled:{before:(0,o.E)(new Date,1)}})})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(h._,{htmlFor:"time",children:"Pickup Time"}),(0,r.jsxs)(y.Ph,{value:I,onValueChange:Z,children:[(0,r.jsx)(y.i4,{className:"h-12",children:(0,r.jsx)(y.ki,{})}),(0,r.jsxs)(y.Bw,{children:[(0,r.jsx)(y.Ql,{value:"08:00",children:"8:00 AM"}),(0,r.jsx)(y.Ql,{value:"09:00",children:"9:00 AM"}),(0,r.jsx)(y.Ql,{value:"10:00",children:"10:00 AM"})]})]})]})]})]}),(0,r.jsx)(p.eW,{children:(0,r.jsx)(m.z,{onClick:()=>{K()&&_(2)},className:"w-full h-12 text-base",children:"Next"})})]}),2===k&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(p.aY,{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"font-semibold",children:"Your Details"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(h._,{htmlFor:"guest-name",children:["Full Name ",(0,r.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,r.jsx)(f.I,{id:"guest-name",placeholder:"John Doe",value:z,onChange:e=>V(e.target.value),required:!0,className:"h-12"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(h._,{htmlFor:"accommodation",children:["Room / Accommodation ",(0,r.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,r.jsx)(f.I,{id:"accommodation",placeholder:"e.g., Room 101 or Villa Name",value:Y,onChange:e=>B(e.target.value),required:!0,className:"h-12"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(h._,{htmlFor:"email",children:["Email for confirmation ",(0,r.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,r.jsx)(f.I,{id:"email",type:"email",placeholder:"john.doe@example.com",value:W,onChange:e=>T(e.target.value),required:!0,className:"h-12"})]})]}),(0,r.jsxs)(p.eW,{className:"flex-col items-stretch space-y-4",children:[(0,r.jsxs)("div",{className:"p-4 bg-gray-100 rounded-lg text-center",children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total"}),(0,r.jsxs)("p",{className:"text-2xl font-bold",children:["$",q.toFixed(2)]})]}),L?(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold mb-3",children:"Complete your payment"}),U&&(0,r.jsx)(w.l,{amount:q.toFixed(2),currency:"USD",onPaymentSuccess:X,onPaymentError:e=>{console.error("PayPal laundry payment failed or cancelled:",e),F(!1),$(!1),J(null)}}),(0,r.jsx)(m.z,{variant:"ghost",className:"w-full mt-2",onClick:()=>$(!1),disabled:E,children:"Go Back to Details"})]}):(0,r.jsx)(m.z,{type:"button",onClick:G,className:"w-full h-12 text-base",disabled:E,children:E?(0,r.jsx)(u.Z,{className:"animate-spin"}):"Proceed to Payment"}),(0,r.jsx)(m.z,{variant:"outline",onClick:()=>{_(1)},className:"w-full h-12 text-base",children:"Back"})]})]})]}),R&&(0,r.jsxs)(p.Zb,{className:"mt-4 bg-destructive/10 border-destructive",children:[(0,r.jsxs)(p.Ol,{children:[(0,r.jsx)(p.ll,{className:"text-destructive text-lg",children:"Booking Failed"}),(0,r.jsxs)(p.SZ,{className:"text-destructive/80 break-words",children:["The following error occurred: ",R.message]})]}),R.payload&&(0,r.jsxs)(p.aY,{children:[(0,r.jsx)("p",{className:"text-sm font-semibold mb-2",children:"Data Sent to Server:"}),(0,r.jsx)("pre",{className:"text-xs whitespace-pre-wrap font-mono bg-background/50 p-2 rounded-md",children:(0,r.jsx)("code",{children:JSON.stringify(R.payload,null,2)})})]})]})]})]})}function k(){return(0,r.jsx)(n.Suspense,{fallback:(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsx)(u.Z,{className:"h-8 w-8 animate-spin"})}),children:(0,r.jsx)(C,{})})}},72962:function(e,t,a){"use strict";a.d(t,{l:function(){return c}});var r=a(57437);a(2265);var n=a(61542),s=a(23340);a(83079);var o=a(12119),i=(0,o.$)("26d34a2436a52c3b6d2a079c5e05cc9c7d3b4b35"),l=(0,o.$)("011893b7f4967695614536f456b192c1aa90b125");function c(e){let{amount:t,currency:a,onPaymentSuccess:o,onPaymentError:c}=e,{toast:d}=(0,s.pm)(),u="AXq7eJpeSOd3qbCEX_88yc9TFm8-M3CEd7JUGoKH7KJVH9Z9e0IOeqAsamYl6m6VyemOvi0rXKQ2xAFu";return u?(0,r.jsx)(n.Vv,{options:{clientId:u,currency:a,intent:"capture"},children:(0,r.jsx)(n.ch,{style:{layout:"vertical"},createOrder:async()=>{try{let e=await l(t,a);if(!e)throw Error("Server did not return a valid Order ID.");return e}catch(e){throw d({title:"Payment Error",description:"Could not initiate PayPal payment: ".concat(e.message),variant:"destructive"}),c(e),e}},onApprove:async e=>{try{let t=await i(e.orderID);if(!t)throw Error("Server did not return a valid Transaction ID.");d({title:"Payment Successful!",description:"Your payment has been processed."}),await o({orderId:e.orderID,transactionId:t})}catch(e){throw d({title:"Payment Failed",description:"We could not process your payment: ".concat(e.message),variant:"destructive"}),c(e),e}},onCancel:()=>{d({title:"Payment Cancelled",description:"Your payment was not processed."}),c(Error("Payment cancelled by user."))},onError:e=>{console.error("PayPal SDK Error:",e),d({title:"PayPal Error",description:"An unexpected error occurred with PayPal. Please try again.",variant:"destructive"}),c(e)}})}):(console.error("PayPal Client ID is not defined in environment variables."),(0,r.jsxs)("div",{className:"text-red-500 p-4 bg-red-100 border border-red-400 rounded-md",children:[(0,r.jsx)("b",{children:"Payment Error:"})," PayPal is not configured correctly.",(0,r.jsx)("p",{className:"text-xs mt-2",children:"Please contact support to resolve this issue."})]}))}},46291:function(e,t,a){"use strict";a.d(t,{f:function(){return c}});var r=a(57437);a(2265);var n=a(82521),s=a(76848),o=a(91687),i=a(93448),l=a(12381);function c(e){let{className:t,classNames:a,showOutsideDays:c=!0,...d}=e;return(0,r.jsx)(o._W,{showOutsideDays:c,className:(0,i.cn)("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,i.cn)((0,l.d)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,i.cn)((0,l.d)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...a},components:{IconLeft:e=>{let{className:t,...a}=e;return(0,r.jsx)(n.Z,{className:(0,i.cn)("h-4 w-4",t),...a})},IconRight:e=>{let{className:t,...a}=e;return(0,r.jsx)(s.Z,{className:(0,i.cn)("h-4 w-4",t),...a})}},...d})}c.displayName="Calendar"},12749:function(e,t,a){"use strict";a.d(t,{J2:function(){return i},xo:function(){return l},yk:function(){return c}});var r=a(57437),n=a(2265),s=a(51777),o=a(93448);let i=s.fC,l=s.xz,c=n.forwardRef((e,t)=>{let{className:a,align:n="center",sideOffset:i=4,...l}=e;return(0,r.jsx)(s.h_,{children:(0,r.jsx)(s.VY,{ref:t,align:n,sideOffset:i,className:(0,o.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...l})})});c.displayName=s.VY.displayName},15291:function(e,t,a){"use strict";a.d(t,{Bw:function(){return h},Ph:function(){return d},Ql:function(){return x},i4:function(){return m},ki:function(){return u}});var r=a(57437),n=a(2265),s=a(6366),o=a(3289),i=a(47969),l=a(59559),c=a(93448);let d=s.fC;s.ZA;let u=s.B4,m=n.forwardRef((e,t)=>{let{className:a,children:n,...i}=e;return(0,r.jsxs)(s.xz,{ref:t,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...i,children:[n,(0,r.jsx)(s.JO,{asChild:!0,children:(0,r.jsx)(o.Z,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=s.xz.displayName;let p=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(s.u_,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",a),...n,children:(0,r.jsx)(i.Z,{className:"h-4 w-4"})})});p.displayName=s.u_.displayName;let f=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(s.$G,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",a),...n,children:(0,r.jsx)(o.Z,{className:"h-4 w-4"})})});f.displayName=s.$G.displayName;let h=n.forwardRef((e,t)=>{let{className:a,children:n,position:o="popper",...i}=e;return(0,r.jsx)(s.h_,{children:(0,r.jsxs)(s.VY,{ref:t,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===o&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:o,...i,children:[(0,r.jsx)(p,{}),(0,r.jsx)(s.l_,{className:(0,c.cn)("p-1","popper"===o&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),(0,r.jsx)(f,{})]})})});h.displayName=s.VY.displayName,n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(s.__,{ref:t,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...n})}).displayName=s.__.displayName;let x=n.forwardRef((e,t)=>{let{className:a,children:n,...o}=e;return(0,r.jsxs)(s.ck,{ref:t,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...o,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(s.wU,{children:(0,r.jsx)(l.Z,{className:"h-4 w-4"})})}),(0,r.jsx)(s.eT,{children:n})]})});x.displayName=s.ck.displayName,n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(s.Z0,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",a),...n})}).displayName=s.Z0.displayName},15169:function(e,t,a){"use strict";a.d(t,{o:function(){return r}}),a(83079);var r=(0,a(12119).$)("65d69c8047e7940336b866a5779e2a5363aa7bc6")},29114:function(e,t,a){"use strict";a.d(t,{gm:function(){return s}});var r=a(2265);a(57437);var n=r.createContext(void 0);function s(e){let t=r.useContext(n);return e||t||"ltr"}},51777:function(e,t,a){"use strict";a.d(t,{VY:function(){return L},h_:function(){return J},fC:function(){return q},xz:function(){return U}});var r=a(2265),n=a(6741),s=a(98575),o=a(73966),i=a(15278),l=a(86097),c=a(99103),d=a(99255),u=a(26008),m=a(83832),p=a(71599),f=a(82912),h=a(57437),x=r.forwardRef((e,t)=>{let{children:a,...n}=e,s=r.Children.toArray(a),o=s.find(g);if(o){let e=o.props.children,a=s.map(t=>t!==o?t:r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null);return(0,h.jsx)(v,{...n,ref:t,children:r.isValidElement(e)?r.cloneElement(e,void 0,a):null})}return(0,h.jsx)(v,{...n,ref:t,children:a})});x.displayName="Slot";var v=r.forwardRef((e,t)=>{let{children:a,...n}=e;if(r.isValidElement(a)){let e,o;let i=(e=Object.getOwnPropertyDescriptor(a.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?a.ref:(e=Object.getOwnPropertyDescriptor(a,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?a.props.ref:a.props.ref||a.ref,l=function(e,t){let a={...t};for(let r in t){let n=e[r],s=t[r];/^on[A-Z]/.test(r)?n&&s?a[r]=(...e)=>{s(...e),n(...e)}:n&&(a[r]=n):"style"===r?a[r]={...n,...s}:"className"===r&&(a[r]=[n,s].filter(Boolean).join(" "))}return{...e,...a}}(n,a.props);return a.type!==r.Fragment&&(l.ref=t?(0,s.F)(t,i):i),r.cloneElement(a,l)}return r.Children.count(a)>1?r.Children.only(null):null});v.displayName="SlotClone";var y=({children:e})=>(0,h.jsx)(h.Fragment,{children:e});function g(e){return r.isValidElement(e)&&e.type===y}var j=a(80886),b=a(5478),N=a(87922),w="Popover",[P,C]=(0,o.b)(w,[u.D7]),k=(0,u.D7)(),[_,E]=P(w),F=e=>{let{__scopePopover:t,children:a,open:n,defaultOpen:s,onOpenChange:o,modal:i=!1}=e,l=k(t),c=r.useRef(null),[m,p]=r.useState(!1),[f=!1,x]=(0,j.T)({prop:n,defaultProp:s,onChange:o});return(0,h.jsx)(u.fC,{...l,children:(0,h.jsx)(_,{scope:t,contentId:(0,d.M)(),triggerRef:c,open:f,onOpenChange:x,onOpenToggle:r.useCallback(()=>x(e=>!e),[x]),hasCustomAnchor:m,onCustomAnchorAdd:r.useCallback(()=>p(!0),[]),onCustomAnchorRemove:r.useCallback(()=>p(!1),[]),modal:i,children:a})})};F.displayName=w;var R="PopoverAnchor";r.forwardRef((e,t)=>{let{__scopePopover:a,...n}=e,s=E(R,a),o=k(a),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=s;return r.useEffect(()=>(i(),()=>l()),[i,l]),(0,h.jsx)(u.ee,{...o,...n,ref:t})}).displayName=R;var D="PopoverTrigger",O=r.forwardRef((e,t)=>{let{__scopePopover:a,...r}=e,o=E(D,a),i=k(a),l=(0,s.e)(t,o.triggerRef),c=(0,h.jsx)(f.WV.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":T(o.open),...r,ref:l,onClick:(0,n.M)(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?c:(0,h.jsx)(u.ee,{asChild:!0,...i,children:c})});O.displayName=D;var S="PopoverPortal",[A,M]=P(S,{forceMount:void 0}),I=e=>{let{__scopePopover:t,forceMount:a,children:r,container:n}=e,s=E(S,t);return(0,h.jsx)(A,{scope:t,forceMount:a,children:(0,h.jsx)(p.z,{present:a||s.open,children:(0,h.jsx)(m.h,{asChild:!0,container:n,children:r})})})};I.displayName=S;var Z="PopoverContent",z=r.forwardRef((e,t)=>{let a=M(Z,e.__scopePopover),{forceMount:r=a.forceMount,...n}=e,s=E(Z,e.__scopePopover);return(0,h.jsx)(p.z,{present:r||s.open,children:s.modal?(0,h.jsx)(V,{...n,ref:t}):(0,h.jsx)(Y,{...n,ref:t})})});z.displayName=Z;var V=r.forwardRef((e,t)=>{let a=E(Z,e.__scopePopover),o=r.useRef(null),i=(0,s.e)(t,o),l=r.useRef(!1);return r.useEffect(()=>{let e=o.current;if(e)return(0,b.Ry)(e)},[]),(0,h.jsx)(N.Z,{as:x,allowPinchZoom:!0,children:(0,h.jsx)(B,{...e,ref:i,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,n.M)(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),l.current||null===(t=a.triggerRef.current)||void 0===t||t.focus()}),onPointerDownOutside:(0,n.M)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,a=0===t.button&&!0===t.ctrlKey,r=2===t.button||a;l.current=r},{checkForDefaultPrevented:!1}),onFocusOutside:(0,n.M)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})})}),Y=r.forwardRef((e,t)=>{let a=E(Z,e.__scopePopover),n=r.useRef(!1),s=r.useRef(!1);return(0,h.jsx)(B,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var r,o;null===(r=e.onCloseAutoFocus)||void 0===r||r.call(e,t),t.defaultPrevented||(n.current||null===(o=a.triggerRef.current)||void 0===o||o.focus(),t.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:t=>{var r,o;null===(r=e.onInteractOutside)||void 0===r||r.call(e,t),t.defaultPrevented||(n.current=!0,"pointerdown"!==t.detail.originalEvent.type||(s.current=!0));let i=t.target;(null===(o=a.triggerRef.current)||void 0===o?void 0:o.contains(i))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&s.current&&t.preventDefault()}})}),B=r.forwardRef((e,t)=>{let{__scopePopover:a,trapFocus:r,onOpenAutoFocus:n,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:p,onInteractOutside:f,...x}=e,v=E(Z,a),y=k(a);return(0,l.EW)(),(0,h.jsx)(c.M,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:n,onUnmountAutoFocus:s,children:(0,h.jsx)(i.XB,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:f,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:p,onDismiss:()=>v.onOpenChange(!1),children:(0,h.jsx)(u.VY,{"data-state":T(v.open),role:"dialog",id:v.contentId,...y,...x,ref:t,style:{...x.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),W="PopoverClose";function T(e){return e?"open":"closed"}r.forwardRef((e,t)=>{let{__scopePopover:a,...r}=e,s=E(W,a);return(0,h.jsx)(f.WV.button,{type:"button",...r,ref:t,onClick:(0,n.M)(e.onClick,()=>s.onOpenChange(!1))})}).displayName=W,r.forwardRef((e,t)=>{let{__scopePopover:a,...r}=e,n=k(a);return(0,h.jsx)(u.Eh,{...n,...r,ref:t})}).displayName="PopoverArrow";var q=F,U=O,J=I,L=z},95490:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(96471).Z)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},69626:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(96471).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])}},function(e){e.O(0,[4728,4358,6137,5878,9242,9666,3301,2901,9221,2778,6008,4039,1636,5561,268,2971,2117,1744],function(){return e(e.s=75369)}),_N_E=e.O()}]);
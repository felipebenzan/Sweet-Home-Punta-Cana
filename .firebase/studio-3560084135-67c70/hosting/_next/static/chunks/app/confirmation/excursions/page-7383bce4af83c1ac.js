(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3633],{47361:function(e,t,n){Promise.resolve().then(n.bind(n,15479))},15479:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var s=n(57437),c=n(2265),a=n(99376),r=n(12381),i=n(2901),d=n(60936),o=n(53459),l=n(5485),u=n(5255),f=n(13147),h=n(16994);let x=(0,n(96471).Z)("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);var m=n(45736),b=n(99049),p=n(27648),v=n(73732),g=n(11392);function j(){var e,t;let n=(0,a.useRouter)(),j=(0,a.useSearchParams)().get("bid"),[y,k]=c.useState(null),[N,w]=c.useState(!0);if(c.useEffect(()=>{if(!j){w(!1);return}!async function(){try{let e=await (0,g.vR)(j);k(e)}catch(e){console.error("Failed to fetch booking details:",e)}finally{w(!1)}}()},[j]),N)return(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-shpc-sand",children:(0,s.jsx)(o.Z,{className:"h-8 w-8 animate-spin text-muted-foreground"})});if(!y)return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-shpc-sand text-center p-4",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Booking not found"}),(0,s.jsx)("p",{className:"text-muted-foreground mb-4",children:"The confirmation details could not be loaded. Please check your email."}),(0,s.jsxs)(r.z,{onClick:()=>n.push("/"),children:[(0,s.jsx)(l.Z,{className:"mr-2 h-4 w-4"})," Back to Home"]})]});let M=y.id.substring(0,7).toUpperCase();return(0,s.jsx)("div",{className:"bg-shpc-sand min-h-screen py-12 px-4 sm:px-6 lg:px-8 pt-[calc(var(--header-height)+3rem)]",children:(0,s.jsxs)("div",{className:"max-w-lg mx-auto",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)(u.Z,{className:"mx-auto h-16 w-16 text-green-500 mb-4"}),(0,s.jsx)("h1",{className:"text-3xl font-bold text-shpc-ink",children:"Adventure Locked In!"}),(0,s.jsxs)("p",{className:"text-muted-foreground mt-2",children:["Pack your sunscreen, ",y.guestName,"! Your excursion is confirmed. A confirmation has been sent to ",y.email,"."]})]}),(0,s.jsxs)("div",{id:"excursion-ticket",className:"bg-white rounded-2xl shadow-soft p-1",children:[(0,s.jsxs)("div",{className:"bg-white rounded-t-xl p-6",children:[(0,s.jsxs)("div",{className:"text-center pb-4 border-b-2 border-dashed",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Booking ID"}),(0,s.jsx)("p",{className:"font-mono text-xl font-semibold text-shpc-ink",children:M})]}),(0,s.jsx)("div",{className:"mt-4 space-y-4",children:null===(e=y.items)||void 0===e?void 0:e.map((e,t)=>(0,s.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[(0,s.jsx)("p",{className:"font-bold text-shpc-ink",children:e.excursionName}),(0,s.jsxs)("div",{className:"text-sm text-muted-foreground mt-1 space-y-1",children:[(0,s.jsxs)("p",{className:"flex items-center gap-1.5",children:[(0,s.jsx)(f.Z,{className:"h-4 w-4"})," ",e.date?(0,i.WU)((0,d.D)(e.date),"EEEE, MMM dd"):"Date TBD"]}),(0,s.jsxs)("p",{className:"flex items-center gap-1.5",children:[(0,s.jsx)(h.Z,{className:"h-4 w-4"})," ",e.pax]})]})]},t))})]}),(0,s.jsxs)("div",{className:"bg-shpc-ink text-white p-6 rounded-b-xl flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-white/70",children:"Total Paid"}),(0,s.jsxs)("p",{className:"text-2xl font-bold",children:["$",null===(t=y.total)||void 0===t?void 0:t.toFixed(2)]})]}),(0,s.jsx)(x,{className:"h-12 w-12 text-white/30"})]})]}),(0,s.jsxs)("div",{className:"mt-10 text-center flex flex-col sm:flex-row gap-2",children:[(0,s.jsxs)(r.z,{onClick:()=>{let e=document.getElementById("excursion-ticket");e&&v.YM(e,{backgroundColor:"#F9F7F2",pixelRatio:2}).then(e=>{var t;let n=document.createElement("a");n.download="shpc-excursion-ticket-".concat(null==y?void 0:null===(t=y.id)||void 0===t?void 0:t.substring(0,7),".png"),n.href=e,n.click()}).catch(e=>{console.error("oops, something went wrong!",e)})},variant:"outline",className:"w-full",children:[(0,s.jsx)(m.Z,{className:"mr-2 h-4 w-4"}),"Download Ticket"]}),(0,s.jsx)(r.z,{asChild:!0,className:"w-full",children:(0,s.jsxs)(p.default,{href:"/excursions",children:[(0,s.jsx)(b.Z,{className:"mr-2 h-4 w-4"}),"Back to Excursions"]})})]})]})})}function y(){return(0,s.jsx)(c.Suspense,{fallback:(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,s.jsx)(o.Z,{className:"h-8 w-8 animate-spin"})}),children:(0,s.jsx)(j,{})})}},12381:function(e,t,n){"use strict";n.d(t,{d:function(){return d},z:function(){return o}});var s=n(57437),c=n(2265),a=n(98482),r=n(90535),i=n(93448);let d=(0,r.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=c.forwardRef((e,t)=>{let{className:n,variant:c,size:r,asChild:o=!1,...l}=e,u=o?a.g7:"button";return(0,s.jsx)(u,{className:(0,i.cn)(d({variant:c,size:r,className:n})),ref:t,...l})});o.displayName="Button"},93448:function(e,t,n){"use strict";n.d(t,{cn:function(){return a}});var s=n(61994),c=n(53335);function a(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,c.m6)((0,s.W)(t))}},11392:function(e,t,n){"use strict";n.d(t,{A4:function(){return a},Bg:function(){return l},IF:function(){return i},Me:function(){return c},Qv:function(){return d},jK:function(){return r},vR:function(){return o}}),n(83079);var s=n(12119),c=(0,s.$)("34f613dcd8a769c0a428b32fb8da22ba767ce291"),a=(0,s.$)("f622981b8d43b5d2ad4037c091389fa0bc562934"),r=(0,s.$)("7fc4ae09103acdac191133951d93ae15c18c1ec7");(0,s.$)("ffb2fe8e7f90af73184fac3b7b45808bf5ea4693"),(0,s.$)("c72088e54de4dc20b282f1dd4d58253ccad83a1f"),(0,s.$)("91cef4120dd16264668d7fe5682e95d1c56e8213"),(0,s.$)("5651c5bc8e5d336094dd4ca35592136fb8dc24a0");var i=(0,s.$)("929b71643b317b5dd25bba3a4d506637ee5a7a52"),d=(0,s.$)("f4be386b9efdd6eaeee67b2c2c6d49341c07a987");(0,s.$)("5cbce382149ca89cee6a8de9cced76a09a4078e8");var o=(0,s.$)("ebce230bb4fc0fbb65f02583e2e9a0cb04561056"),l=(0,s.$)("0b012b2cb6b84d017fe76c8ce875caed3cd4cd45")},13147:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s=(0,n(96471).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},16994:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s=(0,n(96471).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])}},function(e){e.O(0,[6137,2972,2901,7537,2971,2117,1744],function(){return e(e.s=47361)}),_N_E=e.O()}]);